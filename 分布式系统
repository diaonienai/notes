1.MapReduce（编程模型）
（1）把用户输入的文件分成M份
（2）matser负责调度，woker可分配map作业和reduce作业
（3）被分配了map作业的worker，读取对应分片的数据，从输入数据抽取出一个一个键值对，每一个键值对都作为参数传递给map函数，map函数产生的中间键值对被缓存在内存中
（4）缓存中中间键值对定期写入本地磁盘，而且被分为R个区，每个区对应一个reduce作业，这些中间键值对的位置被通报给master，master负责将信息转发给reduce workder
（5）reduce workder遍历所有map worker，把所有它负责的中间键值对都读过来后，先对他们排序，使得相同健的键值对聚集在一起，因为不同的健可能会映射到同一个分区，也就是同一个reduce作业
（6）reduce worker遍历排序后的键值对，对于每一个唯一的键，都将键值对传递给reduce函数，reduce函数产生的结果会添加到这个分区的输出文件中

输入数据来自底层分布式文件系统，中间数据放在本地文件系统，最终输出的数据时写入底层分布式文件系统

Map作业：处理一个输入数据的分片，需要调用多次map函数处理每个输入键值对
Reduce作业：处理一个分区的中间的键值对，对每个不同的健调用一次reduce函数，最终一个reduce作业对应一个输出文件


2.
分布式：一个业务拆分成多个子业务，部署在不同的服务器上，分布式是指将不同的业务分布在不同的地方。 
集群：同一个，部署在多个服务器上，指的是将几台服务器集中在一起，实现同一业务。
分布式中的每一个节点，都可以做集群
分布式是以缩短单个任务的执行时间来提升效率的，而集群则是通过提高单位时间内执行的任务数来提升效率



3.分布式文件系统
由于储存，读取和管理海量数据依靠单一的机器是不行的，所以要把文件存放到具体的物理机器的储存设备上

具体的数据储存方式
1.哈希
比如有3台机器，以每个数据的key做hash，将这些数据分布到这3个机器上，每个机器都需要一组机器用作数据备份

2.按数据范围分布
按照数据的key按照范围划分成不同的区间，使得每一台机器储存一个区间的数据，同样需要数据备份
应用：分布式数据库，BigTable

3.按照数据量分布
将文件分成若干个chunk，chunk大小规定，然后将各个chunk存放到不同的机器上
应用：GFS，HDFS


